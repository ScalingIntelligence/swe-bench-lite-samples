{
  "info": {
    "duration": 147.32407569885254,
    "submission": "diff --git a/django/forms/models.py b/django/forms/models.py\nindex 422bc5d178..658873ef31 100644\n--- a/django/forms/models.py\n+++ b/django/forms/models.py\n@@ -1188,8 +1188,7 @@ class ModelChoiceField(ChoiceField):\n     # This class is a subclass of ChoiceField for purity, but it doesn't\n     # actually use any of ChoiceField's implementation.\n     default_error_messages = {\n-        'invalid_choice': _('Select a valid choice. That choice is not one of'\n-                            ' the available choices.'),\n+        'invalid_choice': _('Select a valid choice. %(value)s is not one of the available choices.'),\n     }\n     iterator = ModelChoiceIterator\n \n@@ -1284,7 +1283,7 @@ class ModelChoiceField(ChoiceField):\n                 value = getattr(value, key)\n             value = self.queryset.get(**{key: value})\n         except (ValueError, TypeError, self.queryset.model.DoesNotExist):\n-            raise ValidationError(self.error_messages['invalid_choice'], code='invalid_choice')\n+            raise ValidationError(self.error_messages['invalid_choice'] % {'value': value}, code='invalid_choice')\n         return value\n \n     def validate(self, value):\n",
    "total_cost": 0.086331,
    "instance_id": "django__django-13933",
    "evaluation_name": "run_on_remaining_250_for_july_4_t_1.6"
  },
  "name": "AgenticLoop",
  "transitions": [
    {
      "name": "SearchCode",
      "state": {
        "model": "deepseek-coder",
        "message": null,
        "max_tokens": 1000,
        "temperature": 1.6,
        "max_iterations": null,
        "max_search_results": 25,
        "support_test_files": false,
        "initial_context_tokens": 4000,
        "initial_search_results": 50,
        "include_message_history": true,
        "provide_initial_context": true,
        "initial_context_spans_per_file": 5,
        "max_retries_with_any_file_context": 3
      },
      "actions": [
        {
          "action": {
            "complete": false,
            "scratch_pad": "The issue is related to the ModelChoiceField and ModelMultipleChoiceField classes in Django's form handling. The goal is to ensure that when a ValidationError is raised due to an invalid choice, the value of the invalid choice is included in the error message. This involves examining the default_error_messages and the methods related to validation in both classes. The necessary changes should focus on modifying the 'invalid_choice' error message to include the value of the invalid choice.",
            "search_requests": [
              {
                "query": null,
                "class_names": [
                  "ModelChoiceField",
                  "ModelMultipleChoiceField"
                ],
                "code_snippet": null,
                "file_pattern": "**/django/forms/models.py",
                "function_names": []
              }
            ]
          },
          "output": {
            "complete": false,
            "ranked_spans": [
              {
                "rank": 0,
                "tokens": 82,
                "span_id": "ModelChoiceField",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 174,
                "span_id": "ModelChoiceField.__init__",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 54,
                "span_id": "ModelChoiceField.get_limit_choices_to",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 59,
                "span_id": "ModelChoiceField.__deepcopy__",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 11,
                "span_id": "ModelChoiceField._get_queryset",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 28,
                "span_id": "ModelChoiceField._set_queryset",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 36,
                "span_id": "ModelChoiceField:7",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 50,
                "span_id": "ModelChoiceField.label_from_instance",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 148,
                "span_id": "ModelChoiceField._get_choices",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 13,
                "span_id": "ModelChoiceField:9",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 42,
                "span_id": "ModelChoiceField.prepare_value",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 85,
                "span_id": "ModelChoiceField.to_python",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 13,
                "span_id": "ModelChoiceField.validate",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 50,
                "span_id": "ModelChoiceField.has_changed",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 94,
                "span_id": "ModelMultipleChoiceField",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 25,
                "span_id": "ModelMultipleChoiceField.__init__",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 21,
                "span_id": "ModelMultipleChoiceField.to_python",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 107,
                "span_id": "ModelMultipleChoiceField.clean",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 258,
                "span_id": "ModelMultipleChoiceField._check_values",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 62,
                "span_id": "ModelMultipleChoiceField.prepare_value",
                "file_path": "django/forms/models.py"
              },
              {
                "rank": 0,
                "tokens": 74,
                "span_id": "ModelMultipleChoiceField.has_changed",
                "file_path": "django/forms/models.py"
              }
            ],
            "search_requests": [
              {
                "query": null,
                "class_names": [
                  "ModelChoiceField",
                  "ModelMultipleChoiceField"
                ],
                "code_snippet": null,
                "file_pattern": "**/django/forms/models.py",
                "function_names": []
              }
            ]
          },
          "input_tokens": 3144,
          "output_tokens": 170,
          "retry_message": null,
          "completion_cost": 0.011982
        }
      ]
    },
    {
      "name": "IdentifyCode",
      "state": {
        "model": "deepseek-coder",
        "query": null,
        "class_name": null,
        "max_tokens": 1000,
        "temperature": 1.6,
        "code_snippet": null,
        "file_pattern": null,
        "ranked_spans": [
          {
            "rank": 0,
            "tokens": 82,
            "span_id": "ModelChoiceField",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 174,
            "span_id": "ModelChoiceField.__init__",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 54,
            "span_id": "ModelChoiceField.get_limit_choices_to",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 59,
            "span_id": "ModelChoiceField.__deepcopy__",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 11,
            "span_id": "ModelChoiceField._get_queryset",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 28,
            "span_id": "ModelChoiceField._set_queryset",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 36,
            "span_id": "ModelChoiceField:7",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 50,
            "span_id": "ModelChoiceField.label_from_instance",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 148,
            "span_id": "ModelChoiceField._get_choices",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 13,
            "span_id": "ModelChoiceField:9",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 42,
            "span_id": "ModelChoiceField.prepare_value",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 85,
            "span_id": "ModelChoiceField.to_python",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 13,
            "span_id": "ModelChoiceField.validate",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 50,
            "span_id": "ModelChoiceField.has_changed",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 94,
            "span_id": "ModelMultipleChoiceField",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 25,
            "span_id": "ModelMultipleChoiceField.__init__",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 21,
            "span_id": "ModelMultipleChoiceField.to_python",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 107,
            "span_id": "ModelMultipleChoiceField.clean",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 258,
            "span_id": "ModelMultipleChoiceField._check_values",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 62,
            "span_id": "ModelMultipleChoiceField.prepare_value",
            "file_path": "django/forms/models.py"
          },
          {
            "rank": 0,
            "tokens": 74,
            "span_id": "ModelMultipleChoiceField.has_changed",
            "file_path": "django/forms/models.py"
          }
        ],
        "function_name": null,
        "expand_context": true,
        "max_iterations": null,
        "max_prompt_file_tokens": 4000,
        "include_message_history": false
      },
      "actions": [
        {
          "action": {
            "scratch_pad": "The reported issue is about ModelChoiceField not showing the value of the invalid choice when raising a ValidationError. This suggests that the default error messages for ModelChoiceField and potentially related classes like ModelMultipleChoiceField should be inspected and possibly modified. In the search results, the relevant code spans include the definitions of ModelChoiceField and ModelMultipleChoiceField, specifically where their default_error_messages are defined. The error message for 'invalid_choice' in both classes does not currently include the value of the invalid choice, which aligns with the issue description. Therefore, the relevant code spans are those defining the default_error_messages for these fields and the methods where ValidationError is raised (to_python and clean methods). These spans can be modified to include the value of the invalid choice in the error message.",
            "identified_spans": [
              {
                "span_ids": [
                  "ModelChoiceField",
                  "ModelChoiceField.to_python",
                  "ModelMultipleChoiceField",
                  "ModelMultipleChoiceField.to_python",
                  "ModelMultipleChoiceField.clean"
                ],
                "file_path": "django/forms/models.py"
              }
            ]
          },
          "output": {},
          "input_tokens": 3183,
          "output_tokens": 273,
          "retry_message": null,
          "completion_cost": 0.013644
        }
      ]
    },
    {
      "name": "DecideRelevance",
      "state": {
        "model": "deepseek-coder",
        "max_tokens": 1000,
        "temperature": 1.6,
        "expand_context": true,
        "max_iterations": null,
        "max_prompt_file_tokens": 4000,
        "include_message_history": false,
        "finish_after_relevant_count": 2
      },
      "actions": [
        {
          "action": {
            "complete": true,
            "relevant": true,
            "scratch_pad": "The file context provides the necessary classes (ModelChoiceField and ModelMultipleChoiceField) and relevant methods that handle invalid choices and raise ValidationErrors. The default_error_messages in both classes are present with the 'invalid_choice' message needing modification to include the invalid choice value. The methods to_python and clean are also present in both classes and are responsible for validating choices, allowing for potential modifications to include the value of invalid choices in the error message. Based on the file context, I can determine that all relevant parts of the code for addressing the reported issue are identified, and the task can be considered complete.",
            "search_suggestions": null
          },
          "output": {},
          "input_tokens": 1938,
          "output_tokens": 164,
          "retry_message": null,
          "completion_cost": 0.008274
        }
      ]
    },
    {
      "name": "PlanToCode",
      "state": {
        "diff": null,
        "model": "deepseek-coder",
        "message": null,
        "max_tokens": 1000,
        "temperature": 1.6,
        "max_iterations": 8,
        "finish_on_review": false,
        "verification_errors": null,
        "max_prompt_file_tokens": 4000,
        "include_message_history": true,
        "allow_hallucinated_spans": false,
        "max_tokens_in_edit_prompt": 500,
        "expand_context_with_related_spans": true
      },
      "actions": [
        {
          "action": {
            "action": "modify",
            "finish": null,
            "reject": null,
            "span_id": "ModelChoiceField",
            "file_path": "django/forms/models.py",
            "scratch_pad": "The issue is that ModelChoiceField does not include the invalid value in the error message when raising a ValidationError for an invalid choice. To fix this, we need to update the error message in the `default_error_messages` for `ModelChoiceField` to include a placeholder for the invalid value. Additionally, we need to modify the `to_python` method to pass the invalid value to the error message.",
            "instructions": "Update the error message in the `default_error_messages` for `ModelChoiceField` to include a placeholder for the invalid value. Modify the `to_python` method to pass the invalid value to the error message."
          },
          "output": {
            "span_id": "ModelChoiceField",
            "file_path": "django/forms/models.py",
            "instructions": "Update the error message in the `default_error_messages` for `ModelChoiceField` to include a placeholder for the invalid value. Modify the `to_python` method to pass the invalid value to the error message."
          },
          "input_tokens": 2245,
          "output_tokens": 189,
          "retry_message": null,
          "completion_cost": 0.00957
        }
      ]
    },
    {
      "name": "ClarifyCodeChange",
      "state": {
        "model": "deepseek-coder",
        "span_id": "ModelChoiceField",
        "end_line": null,
        "file_path": "django/forms/models.py",
        "max_tokens": 1000,
        "start_line": null,
        "temperature": 1.6,
        "instructions": "Update the error message in the `default_error_messages` for `ModelChoiceField` to include a placeholder for the invalid value. Modify the `to_python` method to pass the invalid value to the error message.\n\nThe error message modification is needed in the default_error_messages dictionary for 'invalid_choice'. Additionally, the to_python method needs to be updated to include the invalid value in the error message. The relevant lines are from 1190 to 1192 for the error message and from 1278 to 1289 for the to_python method.",
        "max_iterations": null,
        "include_message_history": false,
        "max_tokens_in_edit_prompt": 500
      },
      "actions": [
        {
          "action": {
            "reject": false,
            "end_line": 1192,
            "start_line": 1190,
            "scratch_pad": "The error message modification is needed in the default_error_messages dictionary for 'invalid_choice'. Additionally, the to_python method needs to be updated to include the invalid value in the error message. The relevant lines are from 1190 to 1192 for the error message and from 1278 to 1289 for the to_python method."
          },
          "output": {
            "span_id": "ModelChoiceField",
            "end_line": 1196,
            "file_path": "django/forms/models.py",
            "start_line": 1186,
            "instructions": "Update the error message in the `default_error_messages` for `ModelChoiceField` to include a placeholder for the invalid value. Modify the `to_python` method to pass the invalid value to the error message.\n\nThe error message modification is needed in the default_error_messages dictionary for 'invalid_choice'. Additionally, the to_python method needs to be updated to include the invalid value in the error message. The relevant lines are from 1190 to 1192 for the error message and from 1278 to 1289 for the to_python method."
          },
          "input_tokens": 1070,
          "output_tokens": 129,
          "retry_message": null,
          "completion_cost": 0.005145
        }
      ]
    },
    {
      "name": "EditCode",
      "state": {
        "model": "deepseek-coder",
        "verify": true,
        "span_id": "ModelChoiceField",
        "end_line": 1196,
        "file_path": "django/forms/models.py",
        "max_tokens": 1000,
        "start_line": 1186,
        "temperature": 1.6,
        "instructions": "Update the error message in the `default_error_messages` for `ModelChoiceField` to include a placeholder for the invalid value. Modify the `to_python` method to pass the invalid value to the error message.\n\nThe error message modification is needed in the default_error_messages dictionary for 'invalid_choice'. Additionally, the to_python method needs to be updated to include the invalid value in the error message. The relevant lines are from 1190 to 1192 for the error message and from 1278 to 1289 for the to_python method.",
        "max_iterations": 8,
        "chain_of_thought": false,
        "show_file_context": true,
        "show_initial_message": true,
        "max_prompt_file_tokens": 4000,
        "include_message_history": true
      },
      "actions": [
        {
          "action": {
            "content": "<replace>\nclass ModelChoiceField(ChoiceField):\n    \"\"\"A ChoiceField whose choices are a model QuerySet.\"\"\"\n    # This class is a subclass of ChoiceField for purity, but it doesn't\n    # actually use any of ChoiceField's implementation.\n    default_error_messages = {\n        'invalid_choice': _('Select a valid choice. %(value)s is not one of the available choices.'),\n    }\n    iterator = ModelChoiceIterator\n\n    def __init__(self, queryset, *, empty_label=\"---------\",\n</replace>"
          },
          "output": {
            "diff": "--- django/forms/models.py\n+++ django/forms/models.py\n@@ -1188,8 +1188,7 @@\n     # This class is a subclass of ChoiceField for purity, but it doesn't\n     # actually use any of ChoiceField's implementation.\n     default_error_messages = {\n-        'invalid_choice': _('Select a valid choice. That choice is not one of'\n-                            ' the available choices.'),\n+        'invalid_choice': _('Select a valid choice. %(value)s is not one of the available choices.'),\n     }\n     iterator = ModelChoiceIterator\n \n",
            "message": "Applied the change to django/forms/models.py.",
            "verification_errors": []
          },
          "input_tokens": 2042,
          "output_tokens": 127,
          "retry_message": null,
          "completion_cost": 0.008031
        }
      ]
    },
    {
      "name": "PlanToCode",
      "state": {
        "diff": "--- django/forms/models.py\n+++ django/forms/models.py\n@@ -1188,8 +1188,7 @@\n     # This class is a subclass of ChoiceField for purity, but it doesn't\n     # actually use any of ChoiceField's implementation.\n     default_error_messages = {\n-        'invalid_choice': _('Select a valid choice. That choice is not one of'\n-                            ' the available choices.'),\n+        'invalid_choice': _('Select a valid choice. %(value)s is not one of the available choices.'),\n     }\n     iterator = ModelChoiceIterator\n \n",
        "model": "deepseek-coder",
        "message": "Applied the change to django/forms/models.py.",
        "max_tokens": 1000,
        "temperature": 1.6,
        "max_iterations": 8,
        "finish_on_review": false,
        "verification_errors": [],
        "max_prompt_file_tokens": 4000,
        "include_message_history": true,
        "allow_hallucinated_spans": false,
        "max_tokens_in_edit_prompt": 500,
        "expand_context_with_related_spans": true
      },
      "actions": [
        {
          "action": {
            "action": "modify",
            "finish": null,
            "reject": null,
            "span_id": "ModelChoiceField.to_python",
            "file_path": "django/forms/models.py",
            "scratch_pad": "The first part of the change has been successfully applied. The error message in `ModelChoiceField` now includes a placeholder for the invalid value. The next step is to modify the `to_python` method of `ModelChoiceField` to pass the invalid value to the error message when raising a `ValidationError`.",
            "instructions": "Modify the `to_python` method of `ModelChoiceField` to pass the invalid value to the error message when raising a `ValidationError`."
          },
          "output": {
            "span_id": "ModelChoiceField.to_python",
            "end_line": 1287,
            "file_path": "django/forms/models.py",
            "start_line": 1277,
            "instructions": "Modify the `to_python` method of `ModelChoiceField` to pass the invalid value to the error message when raising a `ValidationError`."
          },
          "input_tokens": 2621,
          "output_tokens": 169,
          "retry_message": null,
          "completion_cost": 0.010398000000000001
        }
      ]
    },
    {
      "name": "EditCode",
      "state": {
        "model": "deepseek-coder",
        "verify": true,
        "span_id": "ModelChoiceField.to_python",
        "end_line": 1287,
        "file_path": "django/forms/models.py",
        "max_tokens": 1000,
        "start_line": 1277,
        "temperature": 1.6,
        "instructions": "Modify the `to_python` method of `ModelChoiceField` to pass the invalid value to the error message when raising a `ValidationError`.",
        "max_iterations": 8,
        "chain_of_thought": false,
        "show_file_context": true,
        "show_initial_message": true,
        "max_prompt_file_tokens": 4000,
        "include_message_history": true
      },
      "actions": [
        {
          "action": {
            "content": "```html\n<replace>\n    def to_python(self, value):\n        if value in self.empty_values:\n            return None\n        try:\n            key = self.to_field_name or 'pk'\n            if isinstance(value, self.queryset.model):\n                value = getattr(value, key)\n            value = self.queryset.get(**{key: value})\n        except (ValueError, TypeError, self.queryset.model.DoesNotExist):\n            raise ValidationError(self.error_messages['invalid_choice'] % {'value': value}, code='invalid_choice')\n        return value\n</replace>"
          },
          "output": {
            "diff": "--- django/forms/models.py\n+++ django/forms/models.py\n@@ -1283,7 +1283,7 @@\n                 value = getattr(value, key)\n             value = self.queryset.get(**{key: value})\n         except (ValueError, TypeError, self.queryset.model.DoesNotExist):\n-            raise ValidationError(self.error_messages['invalid_choice'], code='invalid_choice')\n+            raise ValidationError(self.error_messages['invalid_choice'] % {'value': value}, code='invalid_choice')\n         return value\n \n     def validate(self, value):\n",
            "message": "Applied the change to django/forms/models.py.\n\n<scratch_pad>\n```html\n</scratch_pad>",
            "verification_errors": []
          },
          "input_tokens": 1947,
          "output_tokens": 145,
          "retry_message": null,
          "completion_cost": 0.008015999999999999
        }
      ]
    },
    {
      "name": "PlanToCode",
      "state": {
        "diff": "--- django/forms/models.py\n+++ django/forms/models.py\n@@ -1283,7 +1283,7 @@\n                 value = getattr(value, key)\n             value = self.queryset.get(**{key: value})\n         except (ValueError, TypeError, self.queryset.model.DoesNotExist):\n-            raise ValidationError(self.error_messages['invalid_choice'], code='invalid_choice')\n+            raise ValidationError(self.error_messages['invalid_choice'] % {'value': value}, code='invalid_choice')\n         return value\n \n     def validate(self, value):\n",
        "model": "deepseek-coder",
        "message": "Applied the change to django/forms/models.py.\n\n<scratch_pad>\n```html\n</scratch_pad>",
        "max_tokens": 1000,
        "temperature": 1.6,
        "max_iterations": 8,
        "finish_on_review": false,
        "verification_errors": [],
        "max_prompt_file_tokens": 4000,
        "include_message_history": true,
        "allow_hallucinated_spans": false,
        "max_tokens_in_edit_prompt": 500,
        "expand_context_with_related_spans": true
      },
      "actions": [
        {
          "action": {
            "action": "finish",
            "finish": "The issue has been addressed by modifying the error message in `ModelChoiceField` to include the invalid value and updating the `to_python` method to pass the invalid value to the error message.",
            "reject": null,
            "span_id": null,
            "file_path": null,
            "scratch_pad": "The changes have been successfully applied. The error message in `ModelChoiceField` now includes the invalid value when raising a `ValidationError` for an invalid choice. The `to_python` method has been updated to pass the invalid value to the error message.",
            "instructions": null
          },
          "output": {
            "message": "The issue has been addressed by modifying the error message in `ModelChoiceField` to include the invalid value and updating the `to_python` method to pass the invalid value to the error message."
          },
          "input_tokens": 2987,
          "output_tokens": 154,
          "retry_message": null,
          "completion_cost": 0.011271
        }
      ]
    },
    {
      "name": "Finished",
      "state": {
        "model": "gpt-4o",
        "output": {
          "model": "deepseek-coder",
          "temperature": 1.6
        },
        "message": "The issue has been addressed by modifying the error message in `ModelChoiceField` to include the invalid value and updating the `to_python` method to pass the invalid value to the error message.",
        "max_tokens": 1000,
        "temperature": 0.0,
        "max_iterations": null,
        "include_message_history": false
      },
      "actions": []
    }
  ],
  "initial_message": "ModelChoiceField does not provide value of invalid choice when raising ValidationError\nDescription\n\t \n\t\t(last modified by Aaron Wiegel)\n\t \nCompared with ChoiceField and others, ModelChoiceField does not show the value of the invalid choice when raising a validation error. Passing in parameters with the invalid value and modifying the default error message for the code invalid_choice should fix this.\nFrom source code:\nclass ModelMultipleChoiceField(ModelChoiceField):\n\t\"\"\"A MultipleChoiceField whose choices are a model QuerySet.\"\"\"\n\twidget = SelectMultiple\n\thidden_widget = MultipleHiddenInput\n\tdefault_error_messages = {\n\t\t'invalid_list': _('Enter a list of values.'),\n\t\t'invalid_choice': _('Select a valid choice. %(value)s is not one of the'\n\t\t\t\t\t\t\t' available choices.'),\n\t\t'invalid_pk_value': _('\u201c%(pk)s\u201d is not a valid value.')\n\t}\n\t...\nclass ModelChoiceField(ChoiceField):\n\t\"\"\"A ChoiceField whose choices are a model QuerySet.\"\"\"\n\t# This class is a subclass of ChoiceField for purity, but it doesn't\n\t# actually use any of ChoiceField's implementation.\n\tdefault_error_messages = {\n\t\t'invalid_choice': _('Select a valid choice. That choice is not one of'\n\t\t\t\t\t\t\t' the available choices.'),\n\t}\n\t...\n"
}