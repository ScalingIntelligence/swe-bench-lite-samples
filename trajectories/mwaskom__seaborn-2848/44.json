{
  "info": {
    "duration": 213.02041792869568,
    "submission": "diff --git a/seaborn/axisgrid.py b/seaborn/axisgrid.py\nindex 8526f44b..161d4cea 100644\n--- a/seaborn/axisgrid.py\n+++ b/seaborn/axisgrid.py\n@@ -1569,6 +1569,9 @@ class PairGrid(Grid):\n             kwargs.update({\n                 \"hue\": hue, \"hue_order\": self._hue_order, \"palette\": self._orig_palette,\n             })\n+        else:\n+            kwargs.setdefault(\"hue_order\", self._hue_order)\n+            kwargs.setdefault(\"palette\", self._orig_palette)\n         func(x=x, y=y, **kwargs)\n \n         self._update_legend_data(ax)\n",
    "total_cost": 0.19021500000000002,
    "instance_id": "mwaskom__seaborn-2848",
    "evaluation_name": "run_on_remaining_250_for_july_4_t_1.6"
  },
  "name": "AgenticLoop",
  "transitions": [
    {
      "name": "SearchCode",
      "state": {
        "model": "deepseek-coder",
        "message": null,
        "max_tokens": 1000,
        "temperature": 1.6,
        "max_iterations": null,
        "max_search_results": 25,
        "support_test_files": false,
        "initial_context_tokens": 4000,
        "initial_search_results": 50,
        "include_message_history": true,
        "provide_initial_context": true,
        "initial_context_spans_per_file": 5,
        "max_retries_with_any_file_context": 3
      },
      "actions": [
        {
          "action": {
            "complete": false,
            "scratch_pad": "The issue revolves around the error encountered when using the 'hue' parameter in the 'map' method of a PairGrid in seaborn version 0.11.1. The error involves a KeyError and a TypeError related to the 'hue' mapping, specific to categorical data. The error does not occur in version 0.11.0, indicating a regression. To debug this, we need to focus on the code handling the 'hue' parameter in the PairGrid class and its associated plotting methods, particularly in versions 0.11.0 and 0.11.1.",
            "search_requests": [
              {
                "query": null,
                "class_names": [
                  "PairGrid"
                ],
                "code_snippet": null,
                "file_pattern": "seaborn/axisgrid.py",
                "function_names": [
                  "_map_bivariate",
                  "_plot_bivariate"
                ]
              },
              {
                "query": null,
                "class_names": [],
                "code_snippet": null,
                "file_pattern": "seaborn/relational.py",
                "function_names": [
                  "scatterplot"
                ]
              },
              {
                "query": null,
                "class_names": [
                  "HueMapping"
                ],
                "code_snippet": null,
                "file_pattern": "seaborn/_core.py",
                "function_names": []
              }
            ]
          },
          "output": {
            "complete": false,
            "ranked_spans": [
              {
                "rank": 0,
                "tokens": 209,
                "span_id": "PairGrid._map_bivariate",
                "file_path": "seaborn/axisgrid.py"
              },
              {
                "rank": 0,
                "tokens": 251,
                "span_id": "PairGrid._plot_bivariate",
                "file_path": "seaborn/axisgrid.py"
              },
              {
                "rank": 0,
                "tokens": 315,
                "span_id": "scatterplot",
                "file_path": "seaborn/relational.py"
              },
              {
                "rank": 0,
                "tokens": 79,
                "span_id": "HueMapping",
                "file_path": "seaborn/_oldcore.py"
              },
              {
                "rank": 0,
                "tokens": 375,
                "span_id": "HueMapping.__init__",
                "file_path": "seaborn/_oldcore.py"
              },
              {
                "rank": 0,
                "tokens": 135,
                "span_id": "HueMapping._lookup_single",
                "file_path": "seaborn/_oldcore.py"
              },
              {
                "rank": 0,
                "tokens": 91,
                "span_id": "HueMapping.infer_map_type",
                "file_path": "seaborn/_oldcore.py"
              },
              {
                "rank": 0,
                "tokens": 199,
                "span_id": "HueMapping.categorical_mapping",
                "file_path": "seaborn/_oldcore.py"
              },
              {
                "rank": 0,
                "tokens": 291,
                "span_id": "HueMapping.numeric_mapping",
                "file_path": "seaborn/_oldcore.py"
              }
            ],
            "search_requests": [
              {
                "query": null,
                "class_names": [
                  "PairGrid"
                ],
                "code_snippet": null,
                "file_pattern": "seaborn/axisgrid.py",
                "function_names": [
                  "_map_bivariate",
                  "_plot_bivariate"
                ]
              },
              {
                "query": null,
                "class_names": [],
                "code_snippet": null,
                "file_pattern": "seaborn/relational.py",
                "function_names": [
                  "scatterplot"
                ]
              },
              {
                "query": null,
                "class_names": [
                  "HueMapping"
                ],
                "code_snippet": null,
                "file_pattern": "seaborn/_core.py",
                "function_names": []
              }
            ]
          },
          "input_tokens": 6227,
          "output_tokens": 277,
          "retry_message": null,
          "completion_cost": 0.022836
        }
      ]
    },
    {
      "name": "IdentifyCode",
      "state": {
        "model": "deepseek-coder",
        "query": null,
        "class_name": null,
        "max_tokens": 1000,
        "temperature": 1.6,
        "code_snippet": null,
        "file_pattern": null,
        "ranked_spans": [
          {
            "rank": 0,
            "tokens": 209,
            "span_id": "PairGrid._map_bivariate",
            "file_path": "seaborn/axisgrid.py"
          },
          {
            "rank": 0,
            "tokens": 251,
            "span_id": "PairGrid._plot_bivariate",
            "file_path": "seaborn/axisgrid.py"
          },
          {
            "rank": 0,
            "tokens": 315,
            "span_id": "scatterplot",
            "file_path": "seaborn/relational.py"
          },
          {
            "rank": 0,
            "tokens": 79,
            "span_id": "HueMapping",
            "file_path": "seaborn/_oldcore.py"
          },
          {
            "rank": 0,
            "tokens": 375,
            "span_id": "HueMapping.__init__",
            "file_path": "seaborn/_oldcore.py"
          },
          {
            "rank": 0,
            "tokens": 135,
            "span_id": "HueMapping._lookup_single",
            "file_path": "seaborn/_oldcore.py"
          },
          {
            "rank": 0,
            "tokens": 91,
            "span_id": "HueMapping.infer_map_type",
            "file_path": "seaborn/_oldcore.py"
          },
          {
            "rank": 0,
            "tokens": 199,
            "span_id": "HueMapping.categorical_mapping",
            "file_path": "seaborn/_oldcore.py"
          },
          {
            "rank": 0,
            "tokens": 291,
            "span_id": "HueMapping.numeric_mapping",
            "file_path": "seaborn/_oldcore.py"
          }
        ],
        "function_name": null,
        "expand_context": true,
        "max_iterations": null,
        "max_prompt_file_tokens": 4000,
        "include_message_history": false
      },
      "actions": [
        {
          "action": {
            "scratch_pad": "The reported issue involves an error when using the `hue` parameter in the `map` function with `PairGrid` in seaborn version 0.11.1. The error occurs specifically when the `hue` is assigned categorical data and not when it is numeric. The error traceback points to several key locations in the seaborn codebase, which include `seaborn/axisgrid.py`, `seaborn/relational.py`, and `seaborn/_oldcore.py`. \n\nIn `seaborn/axisgrid.py`, the `_map_bivariate` and `_plot_bivariate` methods are central to understanding how the `hue` parameter is handled within `PairGrid`. The `_map_bivariate` method processes the `hue` parameter if it is present in the function's signature, and `_plot_bivariate` sets up the conditions for plotting based on the `hue` parameter. This section of code is crucial for identifying where the error might originate when `hue` is used incorrectly or not handled properly.\n\nIn `seaborn/relational.py`, the `scatterplot` function is defined, which is used in the provided example. This function processes the `hue` parameter as well, and the error could potentially occur within the `_hue_map` method call or during the processing of the `hue` parameter in this function. This is another key area to investigate given the nature of the error.\n\nIn `seaborn/_oldcore.py`, the `HueMapping` class and its methods like `_lookup_single`, `categorical_mapping`, and `numeric_mapping` are responsible for managing the `hue` parameter. The error might be happening during the lookup or mapping of the `hue` parameter, especially when dealing with categorical data (as indicated by the KeyError and TypeError in the traceback).\n\nOverall, these sections of code within the seaborn library are the most relevant to investigate for identifying and potentially fixing the reported issue. The context provided in the search results aligns well with the error reported, particularly the handling of the `hue` parameter in both the `PairGrid` and `scatterplot` functions, and the `HueMapping` class. Further analysis of these specific code spans will be necessary to pinpoint the exact location of the bug and potential solutions.",
            "identified_spans": [
              {
                "span_ids": [
                  "PairGrid._map_bivariate",
                  "PairGrid._plot_bivariate"
                ],
                "file_path": "seaborn/axisgrid.py"
              },
              {
                "span_ids": [
                  "scatterplot"
                ],
                "file_path": "seaborn/relational.py"
              },
              {
                "span_ids": [
                  "HueMapping.__init__",
                  "HueMapping._lookup_single",
                  "HueMapping.categorical_mapping",
                  "HueMapping.numeric_mapping"
                ],
                "file_path": "seaborn/_oldcore.py"
              }
            ]
          },
          "output": {},
          "input_tokens": 7598,
          "output_tokens": 717,
          "retry_message": null,
          "completion_cost": 0.033549
        }
      ]
    },
    {
      "name": "DecideRelevance",
      "state": {
        "model": "deepseek-coder",
        "max_tokens": 1000,
        "temperature": 1.6,
        "expand_context": true,
        "max_iterations": null,
        "max_prompt_file_tokens": 4000,
        "include_message_history": false,
        "finish_after_relevant_count": 2
      },
      "actions": [
        {
          "action": {
            "complete": true,
            "relevant": true,
            "scratch_pad": "The provided file context includes the relevant code for PairGrid and scatterplot functionalities in seaborn, which are central to the reported issue. Specifically, the code in 'axisgrid.py' handles the mapping and plotting logic for PairGrid, while 'relational.py' contains the scatterplot function. The '_oldcore.py' file includes the HueMapping class, which is crucial for handling the 'hue' parameter in plots. Given that the issue is related to the behavior of the 'hue' parameter in version 0.11.1 and not in 0.11.0, the relevant code spans across these files. The file context thus provides the necessary code to understand and potentially debug the issue, making the context complete for addressing the reported problem.",
            "search_suggestions": null
          },
          "output": {},
          "input_tokens": 7281,
          "output_tokens": 199,
          "retry_message": null,
          "completion_cost": 0.024828000000000003
        }
      ]
    },
    {
      "name": "PlanToCode",
      "state": {
        "diff": null,
        "model": "deepseek-coder",
        "message": null,
        "max_tokens": 1000,
        "temperature": 1.6,
        "max_iterations": 8,
        "finish_on_review": false,
        "verification_errors": null,
        "max_prompt_file_tokens": 4000,
        "include_message_history": true,
        "allow_hallucinated_spans": false,
        "max_tokens_in_edit_prompt": 500,
        "expand_context_with_related_spans": true
      },
      "actions": [
        {
          "action": {
            "action": "modify",
            "finish": null,
            "reject": null,
            "span_id": "PairGrid._plot_bivariate",
            "file_path": "seaborn/axisgrid.py",
            "scratch_pad": "The issue reported involves a KeyError and a TypeError when using the 'hue' parameter with PairGrid.map() in seaborn 0.11.1. The error does not occur in earlier versions or when 'hue' is used in the creation of PairGrid. The error also does not occur for numerical values for hue. The fix involves ensuring that 'hue' is handled properly when not specified during PairGrid creation but used later in the map function.",
            "instructions": "Ensure that 'hue' is properly initialized and handled in the PairGrid._plot_bivariate method when it is not specified during PairGrid creation but used later in the map function."
          },
          "output": {
            "span_id": "PairGrid._plot_bivariate",
            "end_line": 1574,
            "file_path": "seaborn/axisgrid.py",
            "start_line": 1537,
            "instructions": "Ensure that 'hue' is properly initialized and handled in the PairGrid._plot_bivariate method when it is not specified during PairGrid creation but used later in the map function."
          },
          "input_tokens": 7560,
          "output_tokens": 199,
          "retry_message": null,
          "completion_cost": 0.025665000000000004
        }
      ]
    },
    {
      "name": "EditCode",
      "state": {
        "model": "deepseek-coder",
        "verify": true,
        "span_id": "PairGrid._plot_bivariate",
        "end_line": 1574,
        "file_path": "seaborn/axisgrid.py",
        "max_tokens": 1000,
        "start_line": 1537,
        "temperature": 1.6,
        "instructions": "Ensure that 'hue' is properly initialized and handled in the PairGrid._plot_bivariate method when it is not specified during PairGrid creation but used later in the map function.",
        "max_iterations": 8,
        "chain_of_thought": false,
        "show_file_context": true,
        "show_initial_message": true,
        "max_prompt_file_tokens": 4000,
        "include_message_history": true
      },
      "actions": [
        {
          "action": {
            "content": "```xml\n<replace>\n    def _plot_bivariate(self, x_var, y_var, ax, func, **kwargs):\n        \"\"\"Draw a bivariate plot on the specified axes.\"\"\"\n        if \"hue\" not in signature(func).parameters:\n            self._plot_bivariate_iter_hue(x_var, y_var, ax, func, **kwargs)\n            return\n\n        kwargs = kwargs.copy()\n        if str(func.__module__).startswith(\"seaborn\"):\n            kwargs[\"ax\"] = ax\n        else:\n            plt.sca(ax)\n\n        if x_var == y_var:\n            axes_vars = [x_var]\n        else:\n            axes_vars = [x_var, y_var]\n\n        if self._hue_var is not None and self._hue_var not in axes_vars:\n            axes_vars.append(self._hue_var)\n\n        data = self.data[axes_vars]\n        if self._dropna:\n            data = data.dropna()\n\n        x = data[x_var]\n        y = data[y_var]\n        if self._hue_var is None:\n            hue = None\n        else:\n            hue = data.get(self._hue_var)\n\n        if \"hue\" not in kwargs:\n            kwargs.update({\n                \"hue\": hue, \"hue_order\": self._hue_order, \"palette\": self._orig_palette,\n            })\n        else:\n            kwargs.setdefault(\"hue_order\", self._hue_order)\n            kwargs.setdefault(\"palette\", self._orig_palette)\n        func(x=x, y=y, **kwargs)\n\n        self._update_legend_data(ax)\n</replace>"
          },
          "output": {
            "diff": "--- seaborn/axisgrid.py\n+++ seaborn/axisgrid.py\n@@ -1569,6 +1569,9 @@\n             kwargs.update({\n                 \"hue\": hue, \"hue_order\": self._hue_order, \"palette\": self._orig_palette,\n             })\n+        else:\n+            kwargs.setdefault(\"hue_order\", self._hue_order)\n+            kwargs.setdefault(\"palette\", self._orig_palette)\n         func(x=x, y=y, **kwargs)\n \n         self._update_legend_data(ax)\n",
            "message": "Applied the change to seaborn/axisgrid.py.\n\n<scratch_pad>\n```xml\n</scratch_pad>",
            "verification_errors": []
          },
          "input_tokens": 7753,
          "output_tokens": 428,
          "retry_message": null,
          "completion_cost": 0.029679000000000004
        }
      ]
    },
    {
      "name": "PlanToCode",
      "state": {
        "diff": "--- seaborn/axisgrid.py\n+++ seaborn/axisgrid.py\n@@ -1569,6 +1569,9 @@\n             kwargs.update({\n                 \"hue\": hue, \"hue_order\": self._hue_order, \"palette\": self._orig_palette,\n             })\n+        else:\n+            kwargs.setdefault(\"hue_order\", self._hue_order)\n+            kwargs.setdefault(\"palette\", self._orig_palette)\n         func(x=x, y=y, **kwargs)\n \n         self._update_legend_data(ax)\n",
        "model": "deepseek-coder",
        "message": "Applied the change to seaborn/axisgrid.py.\n\n<scratch_pad>\n```xml\n</scratch_pad>",
        "max_tokens": 1000,
        "temperature": 1.6,
        "max_iterations": 8,
        "finish_on_review": false,
        "verification_errors": [],
        "max_prompt_file_tokens": 4000,
        "include_message_history": true,
        "allow_hallucinated_spans": false,
        "max_tokens_in_edit_prompt": 500,
        "expand_context_with_related_spans": true
      },
      "actions": [
        {
          "action": {
            "action": "review",
            "finish": null,
            "reject": null,
            "span_id": null,
            "file_path": null,
            "scratch_pad": "The initial change applied seemed to address the issue by ensuring that 'hue_order' and 'palette' are set correctly in the kwargs of the _plot_bivariate method. However, a deeper examination is needed to ensure that all related methods handle the 'hue' parameter correctly when it's not initially specified in the creation of PairGrid but used later in the map function.",
            "instructions": null
          },
          "output": null,
          "input_tokens": 8002,
          "output_tokens": 141,
          "retry_message": "Review isn't possible. If the change is done you can finish or reject the task.",
          "completion_cost": 0.026121
        },
        {
          "action": {
            "action": "finish",
            "finish": "The fix applied addresses the reported issue effectively by ensuring that 'hue_order' and 'palette' are correctly set in the _plot_bivariate method, handling the case where 'hue' is not specified during the creation of PairGrid but used later.",
            "reject": null,
            "span_id": null,
            "file_path": null,
            "scratch_pad": "The change applied seems to address the initial issue by ensuring that 'hue_order' and 'palette' are set correctly in the kwargs of the _plot_bivariate method. Given that the issue is about handling 'hue' when not initially specified in the creation of PairGrid but used later in the map function, and the initial change aligns with resolving that specific aspect, I am confident that the fix is appropriate.",
            "instructions": null
          },
          "output": {
            "message": "The fix applied addresses the reported issue effectively by ensuring that 'hue_order' and 'palette' are correctly set in the _plot_bivariate method, handling the case where 'hue' is not specified during the creation of PairGrid but used later."
          },
          "input_tokens": 8169,
          "output_tokens": 202,
          "retry_message": null,
          "completion_cost": 0.027537000000000002
        }
      ]
    },
    {
      "name": "Finished",
      "state": {
        "model": "gpt-4o",
        "output": {
          "model": "deepseek-coder",
          "temperature": 1.6
        },
        "message": "The fix applied addresses the reported issue effectively by ensuring that 'hue_order' and 'palette' are correctly set in the _plot_bivariate method, handling the case where 'hue' is not specified during the creation of PairGrid but used later.",
        "max_tokens": 1000,
        "temperature": 0.0,
        "max_iterations": null,
        "include_message_history": false
      },
      "actions": []
    }
  ],
  "initial_message": "PairGrid errors with `hue` assigned in `map`\nIn seaborn version 0.9.0 I was able to use the following Code to plot scatterplots across a PairGrid with categorical hue. The reason I am not using the \"hue\" keyword in creating the PairGrid is, that I want one regression line (with regplot) and not one regression per hue-category.\r\n```python\r\nimport seaborn as sns\r\niris = sns.load_dataset(\"iris\")\r\ng = sns.PairGrid(iris, y_vars=[\"sepal_length\",\"sepal_width\"], x_vars=[\"petal_length\",\"petal_width\"])\r\ng.map(sns.scatterplot, hue=iris[\"species\"])\r\ng.map(sns.regplot, scatter=False)\r\n```\r\n\r\nHowever, since I updated to searbon 0.11.1 the following Error message occurs:\r\n```\r\n---------------------------------------------------------------------------\r\nKeyError                                  Traceback (most recent call last)\r\n~/.Software/miniforge3/envs/py3.9/lib/python3.8/site-packages/seaborn/_core.py in _lookup_single(self, key)\r\n    143             # Use a value that's in the original data vector\r\n--> 144             value = self.lookup_table[key]\r\n    145         except KeyError:\r\n\r\nKeyError: 'setosa'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTypeError                                 Traceback (most recent call last)\r\n~/.Software/miniforge3/envs/py3.9/lib/python3.8/site-packages/seaborn/_core.py in _lookup_single(self, key)\r\n    148             try:\r\n--> 149                 normed = self.norm(key)\r\n    150             except TypeError as err:\r\n\r\nTypeError: 'NoneType' object is not callable\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-3-46dd21e9c95a> in <module>\r\n      2 iris = sns.load_dataset(\"iris\")\r\n      3 g = sns.PairGrid(iris, y_vars=[\"sepal_length\",\"sepal_width\"], x_vars=[\"petal_length\",\"species\"])\r\n----> 4 g.map(sns.scatterplot, hue=iris[\"species\"])\r\n      5 \r\n\r\n~/.Software/miniforge3/envs/py3.9/lib/python3.8/site-packages/seaborn/axisgrid.py in map(self, func, **kwargs)\r\n   1263         row_indices, col_indices = np.indices(self.axes.shape)\r\n   1264         indices = zip(row_indices.flat, col_indices.flat)\r\n-> 1265         self._map_bivariate(func, indices, **kwargs)\r\n   1266 \r\n   1267         return self\r\n\r\n~/.Software/miniforge3/envs/py3.9/lib/python3.8/site-packages/seaborn/axisgrid.py in _map_bivariate(self, func, indices, **kwargs)\r\n   1463             if ax is None:  # i.e. we are in corner mode\r\n   1464                 continue\r\n-> 1465             self._plot_bivariate(x_var, y_var, ax, func, **kws)\r\n   1466         self._add_axis_labels()\r\n   1467 \r\n\r\n~/.Software/miniforge3/envs/py3.9/lib/python3.8/site-packages/seaborn/axisgrid.py in _plot_bivariate(self, x_var, y_var, ax, func, **kwargs)\r\n   1503         kwargs.setdefault(\"hue_order\", self._hue_order)\r\n   1504         kwargs.setdefault(\"palette\", self._orig_palette)\r\n-> 1505         func(x=x, y=y, **kwargs)\r\n   1506 \r\n   1507         self._update_legend_data(ax)\r\n\r\n~/.Software/miniforge3/envs/py3.9/lib/python3.8/site-packages/seaborn/_decorators.py in inner_f(*args, **kwargs)\r\n     44             )\r\n     45         kwargs.update({k: arg for k, arg in zip(sig.parameters, args)})\r\n---> 46         return f(**kwargs)\r\n     47     return inner_f\r\n     48 \r\n\r\n~/.Software/miniforge3/envs/py3.9/lib/python3.8/site-packages/seaborn/relational.py in scatterplot(x, y, hue, style, size, data, palette, hue_order, hue_norm, sizes, size_order, size_norm, markers, style_order, x_bins, y_bins, units, estimator, ci, n_boot, alpha, x_jitter, y_jitter, legend, ax, **kwargs)\r\n    818     p._attach(ax)\r\n    819 \r\n--> 820     p.plot(ax, kwargs)\r\n    821 \r\n    822     return ax\r\n\r\n~/.Software/miniforge3/envs/py3.9/lib/python3.8/site-packages/seaborn/relational.py in plot(self, ax, kws)\r\n    626         # Apply the mapping from semantic variables to artist attributes\r\n    627         if \"hue\" in self.variables:\r\n--> 628             c = self._hue_map(data[\"hue\"])\r\n    629 \r\n    630         if \"size\" in self.variables:\r\n\r\n~/.Software/miniforge3/envs/py3.9/lib/python3.8/site-packages/seaborn/_core.py in __call__(self, key, *args, **kwargs)\r\n     61         \"\"\"Get the attribute(s) values for the data key.\"\"\"\r\n     62         if isinstance(key, (list, np.ndarray, pd.Series)):\r\n---> 63             return [self._lookup_single(k, *args, **kwargs) for k in key]\r\n     64         else:\r\n     65             return self._lookup_single(key, *args, **kwargs)\r\n\r\n~/.Software/miniforge3/envs/py3.9/lib/python3.8/site-packages/seaborn/_core.py in <listcomp>(.0)\r\n     61         \"\"\"Get the attribute(s) values for the data key.\"\"\"\r\n     62         if isinstance(key, (list, np.ndarray, pd.Series)):\r\n---> 63             return [self._lookup_single(k, *args, **kwargs) for k in key]\r\n     64         else:\r\n     65             return self._lookup_single(key, *args, **kwargs)\r\n\r\n~/.Software/miniforge3/envs/py3.9/lib/python3.8/site-packages/seaborn/_core.py in _lookup_single(self, key)\r\n    149                 normed = self.norm(key)\r\n    150             except TypeError as err:\r\n--> 151                 if np.isnan(key):\r\n    152                     value = (0, 0, 0, 0)\r\n    153                 else:\r\n\r\nTypeError: ufunc 'isnan' not supported for the input types, and the inputs could not be safely coerced to any supported types according to the casting rule ''safe''\r\n```\r\n\r\nMy further observations are:\r\n- the error does not occur when using the \"hue\" keyword when creating PairGrid\r\n- the error does not occur for numerical values for hue\r\n- changing the dtype to \"categorical\" does not help\r\n\r\nEdit:\r\nI tried all versions between 0.9.0 and the current release (0.11.1) and the error only occurs in the current release. If I use 0.11.0, the plot seems to work.\n"
}