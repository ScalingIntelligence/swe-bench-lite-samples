{
  "info": {
    "duration": 165.0595440864563,
    "submission": "diff --git a/sphinx/ext/autodoc/__init__.py b/sphinx/ext/autodoc/__init__.py\nindex 978fd5df8..b5eeeaa8a 100644\n--- a/sphinx/ext/autodoc/__init__.py\n+++ b/sphinx/ext/autodoc/__init__.py\n@@ -1266,6 +1266,8 @@ class FunctionDocumenter(DocstringSignatureMixin, ModuleLevelDocumenter):  # typ\n                 overload = evaluate_signature(overload, __globals__,\n                                               self.env.config.autodoc_type_aliases)\n \n+                if self.env.config.autodoc_typehints == 'none':\n+                    overload = overload.replace(parameters=[param.replace(annotation=Parameter.empty) for param in overload.parameters.values()], return_annotation=Parameter.empty)\n                 sig = stringify_signature(overload, **kwargs)\n                 sigs.append(sig)\n \n",
    "total_cost": 0.115713,
    "instance_id": "sphinx-doc__sphinx-8282",
    "evaluation_name": "run_on_remaining_250_for_july_4_t_1.6"
  },
  "name": "AgenticLoop",
  "transitions": [
    {
      "name": "SearchCode",
      "state": {
        "model": "deepseek-coder",
        "message": null,
        "max_tokens": 1000,
        "temperature": 1.6,
        "max_iterations": null,
        "max_search_results": 25,
        "support_test_files": false,
        "initial_context_tokens": 4000,
        "initial_search_results": 50,
        "include_message_history": true,
        "provide_initial_context": true,
        "initial_context_spans_per_file": 5,
        "max_retries_with_any_file_context": 3
      },
      "actions": [
        {
          "action": {
            "complete": false,
            "scratch_pad": "The issue describes a problem where the `autodoc_typehints` setting does not affect overloaded callables. To address this, we need to focus our search on the `autodoc` extension and specifically on how type hints are handled for functions, especially overloaded ones. Looking at the provided file context, the relevant files are `sphinx/ext/autodoc/__init__.py`, `sphinx/ext/autodoc/typehints.py`, and `sphinx/ext/autodoc/type_comment.py`. These files contain classes and functions related to documenting Python objects and handling type hints. The main focus should be on how type hints are processed for functions and how the configuration setting `autodoc_typehints` is applied in these contexts.",
            "search_requests": [
              {
                "query": "how type hints are processed for overloaded functions",
                "class_names": [
                  "FunctionDocumenter"
                ],
                "code_snippet": "autodoc_typehints = 'none'",
                "file_pattern": "**/sphinx/ext/autodoc/**/*.py",
                "function_names": [
                  "format_signature",
                  "add_directive_header"
                ]
              }
            ]
          },
          "output": null,
          "input_tokens": 3365,
          "output_tokens": 281,
          "retry_message": "\n\nUnfortunately, I didn\u2019t find any relevant results.",
          "completion_cost": 0.01431
        },
        {
          "action": {
            "complete": false,
            "scratch_pad": "Since no relevant results were found in the initial search, it might be necessary to broaden the search parameters. The issue still relates to `autodoc_typehints` not affecting overloaded callables, so the focus should remain on the autodoc extension and related type hint processing. However, the approach could shift to identifying any gaps or inconsistencies in the handling of type hints for overloaded functions. It might also be useful to examine other configurations or settings related to type hints and document generation to see if they might influence or be related to the issue.",
            "search_requests": [
              {
                "query": "configurations affecting type hints in documentation",
                "class_names": [
                  "FunctionDocumenter",
                  "DocstringSignatureMixin"
                ],
                "code_snippet": null,
                "file_pattern": "**/sphinx/ext/**/*.py",
                "function_names": [
                  "format_signature",
                  "add_directive_header",
                  "get_doc",
                  "filter_members"
                ]
              }
            ]
          },
          "output": {
            "complete": false,
            "ranked_spans": [
              {
                "rank": 0,
                "tokens": 55,
                "span_id": "FunctionDocumenter.add_directive_header",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 0,
                "tokens": 16,
                "span_id": "FunctionDocumenter.document_members",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 0,
                "tokens": 156,
                "span_id": "FunctionDocumenter.format_args",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 6,
                "tokens": 99,
                "span_id": "DocstringSignatureMixin.get_doc",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 6,
                "tokens": 115,
                "span_id": "DocstringSignatureMixin.format_signature",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 7,
                "tokens": 162,
                "span_id": "FunctionDocumenter.annotate_to_first_argument",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 8,
                "tokens": 240,
                "span_id": "FunctionDocumenter.format_signature",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 9,
                "tokens": 163,
                "span_id": "MethodDocumenter.add_directive_header",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 10,
                "tokens": 334,
                "span_id": "AttributeDocumenter.add_directive_header",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 14,
                "tokens": 179,
                "span_id": "ClassDocumenter.format_signature",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 15,
                "tokens": 299,
                "span_id": "MethodDocumenter.format_signature",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 19,
                "tokens": 57,
                "span_id": "DocstringSignatureMixin",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 19,
                "tokens": 395,
                "span_id": "DocstringSignatureMixin._find_signature",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 21,
                "tokens": 224,
                "span_id": "ClassDocumenter.add_directive_header",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 23,
                "tokens": 251,
                "span_id": "Documenter.format_signature",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 25,
                "tokens": 912,
                "span_id": "Documenter.filter_members",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 26,
                "tokens": 109,
                "span_id": "ModuleDocumenter.add_directive_header",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 27,
                "tokens": 41,
                "span_id": "FunctionDocumenter",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 27,
                "tokens": 77,
                "span_id": "FunctionDocumenter.can_document_member",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 34,
                "tokens": 471,
                "span_id": "ClassDocumenter.get_doc",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 36,
                "tokens": 320,
                "span_id": "DataDocumenter.add_directive_header",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 42,
                "tokens": 119,
                "span_id": "DocstringStripSignatureMixin.format_signature",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 43,
                "tokens": 124,
                "span_id": "AttributeDocumenter.get_doc",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 53,
                "tokens": 65,
                "span_id": "PropertyDocumenter.add_directive_header",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 56,
                "tokens": 92,
                "span_id": "TypeVarDocumenter.get_doc",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              },
              {
                "rank": 56,
                "tokens": 37,
                "span_id": "TypeVarDocumenter.add_directive_header",
                "file_path": "sphinx/ext/autodoc/__init__.py"
              }
            ],
            "search_requests": [
              {
                "query": "configurations affecting type hints in documentation",
                "class_names": [
                  "FunctionDocumenter",
                  "DocstringSignatureMixin"
                ],
                "code_snippet": null,
                "file_pattern": "**/sphinx/ext/**/*.py",
                "function_names": [
                  "format_signature",
                  "add_directive_header",
                  "get_doc",
                  "filter_members"
                ]
              }
            ]
          },
          "input_tokens": 3678,
          "output_tokens": 253,
          "retry_message": null,
          "completion_cost": 0.014829
        }
      ]
    },
    {
      "name": "IdentifyCode",
      "state": {
        "model": "deepseek-coder",
        "query": null,
        "class_name": null,
        "max_tokens": 1000,
        "temperature": 1.6,
        "code_snippet": null,
        "file_pattern": null,
        "ranked_spans": [
          {
            "rank": 0,
            "tokens": 55,
            "span_id": "FunctionDocumenter.add_directive_header",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 0,
            "tokens": 16,
            "span_id": "FunctionDocumenter.document_members",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 0,
            "tokens": 156,
            "span_id": "FunctionDocumenter.format_args",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 6,
            "tokens": 99,
            "span_id": "DocstringSignatureMixin.get_doc",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 6,
            "tokens": 115,
            "span_id": "DocstringSignatureMixin.format_signature",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 7,
            "tokens": 162,
            "span_id": "FunctionDocumenter.annotate_to_first_argument",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 8,
            "tokens": 240,
            "span_id": "FunctionDocumenter.format_signature",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 9,
            "tokens": 163,
            "span_id": "MethodDocumenter.add_directive_header",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 10,
            "tokens": 334,
            "span_id": "AttributeDocumenter.add_directive_header",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 14,
            "tokens": 179,
            "span_id": "ClassDocumenter.format_signature",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 15,
            "tokens": 299,
            "span_id": "MethodDocumenter.format_signature",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 19,
            "tokens": 57,
            "span_id": "DocstringSignatureMixin",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 19,
            "tokens": 395,
            "span_id": "DocstringSignatureMixin._find_signature",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 21,
            "tokens": 224,
            "span_id": "ClassDocumenter.add_directive_header",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 23,
            "tokens": 251,
            "span_id": "Documenter.format_signature",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 25,
            "tokens": 912,
            "span_id": "Documenter.filter_members",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 26,
            "tokens": 109,
            "span_id": "ModuleDocumenter.add_directive_header",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 27,
            "tokens": 41,
            "span_id": "FunctionDocumenter",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 27,
            "tokens": 77,
            "span_id": "FunctionDocumenter.can_document_member",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 34,
            "tokens": 471,
            "span_id": "ClassDocumenter.get_doc",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 36,
            "tokens": 320,
            "span_id": "DataDocumenter.add_directive_header",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 42,
            "tokens": 119,
            "span_id": "DocstringStripSignatureMixin.format_signature",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 43,
            "tokens": 124,
            "span_id": "AttributeDocumenter.get_doc",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 53,
            "tokens": 65,
            "span_id": "PropertyDocumenter.add_directive_header",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 56,
            "tokens": 92,
            "span_id": "TypeVarDocumenter.get_doc",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          },
          {
            "rank": 56,
            "tokens": 37,
            "span_id": "TypeVarDocumenter.add_directive_header",
            "file_path": "sphinx/ext/autodoc/__init__.py"
          }
        ],
        "function_name": null,
        "expand_context": true,
        "max_iterations": null,
        "max_prompt_file_tokens": 4000,
        "include_message_history": false
      },
      "actions": [
        {
          "action": {
            "scratch_pad": "The reported issue pertains to the `autodoc_typehints` configuration for overloaded callables in Sphinx's autodoc extension. The search results provided contain several classes and methods from `sphinx/ext/autodoc/__init__.py` that handle documentation of different types of Python objects, including functions, classes, attributes, and more. Key components of the issue are found in `FunctionDocumenter` and `ClassDocumenter` classes, particularly their `format_signature` methods which handle the signature formatting for overloaded functions and methods. Relevant spans include those dealing with type hints, signature formatting, and handling of overloaded functions as they relate to the `autodoc_typehints` configuration. These code spans align with the problem statement by providing context on how type hints and signatures are managed, which will help in understanding the current implementation regarding overloaded callables and how the `autodoc_typehints` setting may influence these operations.",
            "identified_spans": [
              {
                "span_ids": [
                  "FunctionDocumenter.format_signature",
                  "ClassDocumenter.format_signature",
                  "DocstringSignatureMixin.format_signature",
                  "DocstringSignatureMixin._find_signature",
                  "FunctionDocumenter.annotate_to_first_argument",
                  "ClassDocumenter.get_overloaded_signatures"
                ],
                "file_path": "sphinx/ext/autodoc/__init__.py"
              }
            ]
          },
          "output": {},
          "input_tokens": 5328,
          "output_tokens": 334,
          "retry_message": null,
          "completion_cost": 0.020994000000000002
        }
      ]
    },
    {
      "name": "DecideRelevance",
      "state": {
        "model": "deepseek-coder",
        "max_tokens": 1000,
        "temperature": 1.6,
        "expand_context": true,
        "max_iterations": null,
        "max_prompt_file_tokens": 4000,
        "include_message_history": false,
        "finish_after_relevant_count": 2
      },
      "actions": [
        {
          "action": {
            "complete": true,
            "relevant": true,
            "scratch_pad": "The provided file context does contain relevant code related to autodoc and handling type hints, specifically focusing on overloaded callables. The `FunctionDocumenter` and `ClassDocumenter` classes handle the formatting of signatures, including those for overloaded functions. The methods `format_signature`, `annotate_to_first_argument`, and `get_overloaded_signatures` are directly relevant to managing and displaying signatures, which is central to the issue. The mixin `DocstringSignatureMixin` also plays a role in finding and managing signatures. Therefore, based on the presence of this code, it appears that the necessary context for understanding or addressing the issue is provided.",
            "search_suggestions": null
          },
          "output": {},
          "input_tokens": 3104,
          "output_tokens": 175,
          "retry_message": null,
          "completion_cost": 0.011937000000000001
        }
      ]
    },
    {
      "name": "PlanToCode",
      "state": {
        "diff": null,
        "model": "deepseek-coder",
        "message": null,
        "max_tokens": 1000,
        "temperature": 1.6,
        "max_iterations": 8,
        "finish_on_review": false,
        "verification_errors": null,
        "max_prompt_file_tokens": 4000,
        "include_message_history": true,
        "allow_hallucinated_spans": false,
        "max_tokens_in_edit_prompt": 500,
        "expand_context_with_related_spans": true
      },
      "actions": [
        {
          "action": {
            "action": "modify",
            "finish": null,
            "reject": null,
            "span_id": "FunctionDocumenter.format_signature",
            "file_path": "sphinx/ext/autodoc/__init__.py",
            "scratch_pad": "The issue reports that `autodoc_typehints` does not affect overloaded callables. The relevant code spans that handle type hints and overloads include `FunctionDocumenter.format_signature` and `ClassDocumenter.format_signature`. To resolve this issue, we need to ensure that the `autodoc_typehints` setting is applied to overloaded functions when generating their signatures. This involves modifying the code in `FunctionDocumenter.format_signature` to respect the `autodoc_typehints` setting when processing overloads.",
            "instructions": "Modify the `FunctionDocumenter.format_signature` method to respect the `autodoc_typehints` setting when processing overloads. Specifically, ensure that type hints are omitted or included based on the `autodoc_typehints` configuration."
          },
          "output": {
            "span_id": "FunctionDocumenter.format_signature",
            "end_line": 1272,
            "file_path": "sphinx/ext/autodoc/__init__.py",
            "start_line": 1241,
            "instructions": "Modify the `FunctionDocumenter.format_signature` method to respect the `autodoc_typehints` setting when processing overloads. Specifically, ensure that type hints are omitted or included based on the `autodoc_typehints` configuration."
          },
          "input_tokens": 4354,
          "output_tokens": 230,
          "retry_message": null,
          "completion_cost": 0.016512
        }
      ]
    },
    {
      "name": "EditCode",
      "state": {
        "model": "deepseek-coder",
        "verify": true,
        "span_id": "FunctionDocumenter.format_signature",
        "end_line": 1272,
        "file_path": "sphinx/ext/autodoc/__init__.py",
        "max_tokens": 1000,
        "start_line": 1241,
        "temperature": 1.6,
        "instructions": "Modify the `FunctionDocumenter.format_signature` method to respect the `autodoc_typehints` setting when processing overloads. Specifically, ensure that type hints are omitted or included based on the `autodoc_typehints` configuration.",
        "max_iterations": 8,
        "chain_of_thought": false,
        "show_file_context": true,
        "show_initial_message": true,
        "max_prompt_file_tokens": 4000,
        "include_message_history": true
      },
      "actions": [
        {
          "action": {
            "content": "```xml\n<replace>\n    def format_signature(self, **kwargs: Any) -> str:\n        sigs = []\n        if self.analyzer and '.'.join(self.objpath) in self.analyzer.overloads:\n            # Use signatures for overloaded functions instead of the implementation function.\n            overloaded = True\n        else:\n            overloaded = False\n            sig = super().format_signature(**kwargs)\n            sigs.append(sig)\n\n        if inspect.is_singledispatch_function(self.object):\n            # append signature of singledispatch'ed functions\n            for typ, func in self.object.registry.items():\n                if typ is object:\n                    pass  # default implementation. skipped.\n                else:\n                    self.annotate_to_first_argument(func, typ)\n\n                    documenter = FunctionDocumenter(self.directive, '')\n                    documenter.object = func\n                    documenter.objpath = [None]\n                    sigs.append(documenter.format_signature())\n        if overloaded:\n            __globals__ = safe_getattr(self.object, '__globals__', {})\n            for overload in self.analyzer.overloads.get('.'.join(self.objpath)):\n                overload = evaluate_signature(overload, __globals__,\n                                              self.env.config.autodoc_type_aliases)\n\n                if self.env.config.autodoc_typehints == 'none':\n                    overload = overload.replace(parameters=[param.replace(annotation=Parameter.empty) for param in overload.parameters.values()], return_annotation=Parameter.empty)\n                sig = stringify_signature(overload, **kwargs)\n                sigs.append(sig)\n\n        return \"\\n\".join(sigs)\n</replace>"
          },
          "output": {
            "diff": "--- sphinx/ext/autodoc/__init__.py\n+++ sphinx/ext/autodoc/__init__.py\n@@ -1266,6 +1266,8 @@\n                 overload = evaluate_signature(overload, __globals__,\n                                               self.env.config.autodoc_type_aliases)\n \n+                if self.env.config.autodoc_typehints == 'none':\n+                    overload = overload.replace(parameters=[param.replace(annotation=Parameter.empty) for param in overload.parameters.values()], return_annotation=Parameter.empty)\n                 sig = stringify_signature(overload, **kwargs)\n                 sigs.append(sig)\n \n",
            "message": "Applied the change to sphinx/ext/autodoc/__init__.py.\n\n<scratch_pad>\n```xml\n</scratch_pad>",
            "verification_errors": []
          },
          "input_tokens": 4430,
          "output_tokens": 411,
          "retry_message": null,
          "completion_cost": 0.019455
        }
      ]
    },
    {
      "name": "PlanToCode",
      "state": {
        "diff": "--- sphinx/ext/autodoc/__init__.py\n+++ sphinx/ext/autodoc/__init__.py\n@@ -1266,6 +1266,8 @@\n                 overload = evaluate_signature(overload, __globals__,\n                                               self.env.config.autodoc_type_aliases)\n \n+                if self.env.config.autodoc_typehints == 'none':\n+                    overload = overload.replace(parameters=[param.replace(annotation=Parameter.empty) for param in overload.parameters.values()], return_annotation=Parameter.empty)\n                 sig = stringify_signature(overload, **kwargs)\n                 sigs.append(sig)\n \n",
        "model": "deepseek-coder",
        "message": "Applied the change to sphinx/ext/autodoc/__init__.py.\n\n<scratch_pad>\n```xml\n</scratch_pad>",
        "max_tokens": 1000,
        "temperature": 1.6,
        "max_iterations": 8,
        "finish_on_review": false,
        "verification_errors": [],
        "max_prompt_file_tokens": 4000,
        "include_message_history": true,
        "allow_hallucinated_spans": false,
        "max_tokens_in_edit_prompt": 500,
        "expand_context_with_related_spans": true
      },
      "actions": [
        {
          "action": {
            "action": "finish",
            "finish": "The changes have been successfully applied to the relevant code span in `FunctionDocumenter.format_signature`, ensuring that the `autodoc_typehints` setting now correctly affects overloaded callables as expected. The issue has been resolved.",
            "reject": null,
            "span_id": null,
            "file_path": null,
            "scratch_pad": "The change applied to `FunctionDocumenter.format_signature` correctly ensures that the `autodoc_typehints` setting is respected when processing overloads. The type hints are now conditionally removed if the `autodoc_typehints` setting is set to 'none'. This fix directly addresses the reported issue of `autodoc_typehints` not affecting overloaded callables.",
            "instructions": null
          },
          "output": {
            "message": "The changes have been successfully applied to the relevant code span in `FunctionDocumenter.format_signature`, ensuring that the `autodoc_typehints` setting now correctly affects overloaded callables as expected. The issue has been resolved."
          },
          "input_tokens": 4942,
          "output_tokens": 190,
          "retry_message": null,
          "completion_cost": 0.017676
        }
      ]
    },
    {
      "name": "Finished",
      "state": {
        "model": "gpt-4o",
        "output": {
          "model": "deepseek-coder",
          "temperature": 1.6
        },
        "message": "The changes have been successfully applied to the relevant code span in `FunctionDocumenter.format_signature`, ensuring that the `autodoc_typehints` setting now correctly affects overloaded callables as expected. The issue has been resolved.",
        "max_tokens": 1000,
        "temperature": 0.0,
        "max_iterations": null,
        "include_message_history": false
      },
      "actions": []
    }
  ],
  "initial_message": "autodoc_typehints does not effect to overloaded callables\n**Describe the bug**\r\nautodoc_typehints does not effect to overloaded callables.\r\n\r\n**To Reproduce**\r\n\r\n```\r\n# in conf.py\r\nautodoc_typehints = 'none'\r\n```\r\n```\r\n# in index.rst\r\n.. automodule:: example\r\n   :members:\r\n   :undoc-members:\r\n```\r\n```\r\n# in example.py\r\nfrom typing import overload\r\n\r\n\r\n@overload\r\ndef foo(x: int) -> int:\r\n    ...\r\n\r\n\r\n@overload\r\ndef foo(x: float) -> float:\r\n    ...\r\n\r\n\r\ndef foo(x):\r\n    return x\r\n```\r\n\r\n**Expected behavior**\r\nAll typehints for overloaded callables are obeyed `autodoc_typehints` setting.\r\n\r\n**Your project**\r\nNo\r\n\r\n**Screenshots**\r\nNo\r\n\r\n**Environment info**\r\n- OS: Mac\r\n- Python version: 3.8.2\r\n- Sphinx version: 3.1.0dev\r\n- Sphinx extensions: sphinx.ext.autodoc\r\n- Extra tools: No\r\n\r\n**Additional context**\r\nNo\n"
}