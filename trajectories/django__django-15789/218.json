{
  "info": {
    "duration": 159.63223695755005,
    "submission": "diff --git a/django/utils/html.py b/django/utils/html.py\nindex d0bc97be80..9e003ea49a 100644\n--- a/django/utils/html.py\n+++ b/django/utils/html.py\n@@ -57,17 +57,18 @@ _json_script_escapes = {\n     ord(\"<\"): \"\\\\u003C\",\n     ord(\"&\"): \"\\\\u0026\",\n }\n+from django.core.serializers.json import DjangoJSONEncoder\n \n \n-def json_script(value, element_id=None):\n+def json_script(value, element_id=None, encoder=None):\n     \"\"\"\n     Escape all the HTML/XML special characters with their unicode escapes, so\n     value is safe to be output anywhere except for inside a tag attribute. Wrap\n     the escaped JSON in a script tag.\n     \"\"\"\n-    from django.core.serializers.json import DjangoJSONEncoder\n-\n-    json_str = json.dumps(value, cls=DjangoJSONEncoder).translate(_json_script_escapes)\n+    if encoder is None:\n+        encoder = DjangoJSONEncoder\n+    json_str = json.dumps(value, cls=encoder).translate(_json_script_escapes)\n     if element_id:\n         template = '<script id=\"{}\" type=\"application/json\">{}</script>'\n         args = (element_id, mark_safe(json_str))\n",
    "total_cost": 0.09687000000000001,
    "instance_id": "django__django-15789",
    "evaluation_name": "run_on_remaining_250_for_july_4_t_1.6"
  },
  "name": "AgenticLoop",
  "transitions": [
    {
      "name": "SearchCode",
      "state": {
        "model": "deepseek-coder",
        "message": null,
        "max_tokens": 1000,
        "temperature": 1.6,
        "max_iterations": null,
        "max_search_results": 25,
        "support_test_files": false,
        "initial_context_tokens": 4000,
        "initial_search_results": 50,
        "include_message_history": true,
        "provide_initial_context": true,
        "initial_context_spans_per_file": 5,
        "max_retries_with_any_file_context": 3
      },
      "actions": [
        {
          "action": {
            "complete": false,
            "scratch_pad": "The issue requires investigating the `json_script` function in `django.utils.html` to determine if it can accept a custom JSON encoder. Additionally, it would be beneficial to find and document any relevant code related to this function.",
            "search_requests": [
              {
                "query": "json_script",
                "class_names": [],
                "code_snippet": "def json_script(value, element_id=None):",
                "file_pattern": "**/django/utils/html.py",
                "function_names": []
              },
              {
                "query": "DjangoJSONEncoder",
                "class_names": [
                  "Serializer"
                ],
                "code_snippet": null,
                "file_pattern": "**/django/core/serializers/json.py",
                "function_names": []
              },
              {
                "query": "json_script",
                "class_names": [],
                "code_snippet": null,
                "file_pattern": "**/docs/_ext/djangodocs.py",
                "function_names": [
                  "parse_django_admin_node"
                ]
              }
            ]
          },
          "output": {
            "complete": false,
            "ranked_spans": [
              {
                "rank": 0,
                "tokens": 143,
                "span_id": "json_script",
                "file_path": "django/utils/html.py"
              },
              {
                "rank": 0,
                "tokens": 18,
                "span_id": "Serializer",
                "file_path": "django/core/serializers/json.py"
              },
              {
                "rank": 0,
                "tokens": 37,
                "span_id": "Serializer.end_serialization",
                "file_path": "django/core/serializers/json.py"
              },
              {
                "rank": 0,
                "tokens": 72,
                "span_id": "Serializer.end_object",
                "file_path": "django/core/serializers/json.py"
              },
              {
                "rank": 0,
                "tokens": 84,
                "span_id": "Serializer._init_options",
                "file_path": "django/core/serializers/json.py"
              },
              {
                "rank": 0,
                "tokens": 20,
                "span_id": "Serializer.getvalue",
                "file_path": "django/core/serializers/json.py"
              },
              {
                "rank": 0,
                "tokens": 16,
                "span_id": "Serializer.start_serialization",
                "file_path": "django/core/serializers/json.py"
              },
              {
                "rank": 0,
                "tokens": 54,
                "span_id": "parse_django_admin_node",
                "file_path": "docs/_ext/djangodocs.py"
              }
            ],
            "search_requests": [
              {
                "query": "json_script",
                "class_names": [],
                "code_snippet": "def json_script(value, element_id=None):",
                "file_pattern": "**/django/utils/html.py",
                "function_names": []
              },
              {
                "query": "DjangoJSONEncoder",
                "class_names": [
                  "Serializer"
                ],
                "code_snippet": null,
                "file_pattern": "**/django/core/serializers/json.py",
                "function_names": []
              },
              {
                "query": "json_script",
                "class_names": [],
                "code_snippet": null,
                "file_pattern": "**/docs/_ext/djangodocs.py",
                "function_names": [
                  "parse_django_admin_node"
                ]
              }
            ]
          },
          "input_tokens": 2794,
          "output_tokens": 235,
          "retry_message": null,
          "completion_cost": 0.011907000000000001
        }
      ]
    },
    {
      "name": "IdentifyCode",
      "state": {
        "model": "deepseek-coder",
        "query": null,
        "class_name": null,
        "max_tokens": 1000,
        "temperature": 1.6,
        "code_snippet": null,
        "file_pattern": null,
        "ranked_spans": [
          {
            "rank": 0,
            "tokens": 143,
            "span_id": "json_script",
            "file_path": "django/utils/html.py"
          },
          {
            "rank": 0,
            "tokens": 18,
            "span_id": "Serializer",
            "file_path": "django/core/serializers/json.py"
          },
          {
            "rank": 0,
            "tokens": 37,
            "span_id": "Serializer.end_serialization",
            "file_path": "django/core/serializers/json.py"
          },
          {
            "rank": 0,
            "tokens": 72,
            "span_id": "Serializer.end_object",
            "file_path": "django/core/serializers/json.py"
          },
          {
            "rank": 0,
            "tokens": 84,
            "span_id": "Serializer._init_options",
            "file_path": "django/core/serializers/json.py"
          },
          {
            "rank": 0,
            "tokens": 20,
            "span_id": "Serializer.getvalue",
            "file_path": "django/core/serializers/json.py"
          },
          {
            "rank": 0,
            "tokens": 16,
            "span_id": "Serializer.start_serialization",
            "file_path": "django/core/serializers/json.py"
          },
          {
            "rank": 0,
            "tokens": 54,
            "span_id": "parse_django_admin_node",
            "file_path": "docs/_ext/djangodocs.py"
          }
        ],
        "function_name": null,
        "expand_context": true,
        "max_iterations": null,
        "max_prompt_file_tokens": 4000,
        "include_message_history": false
      },
      "actions": [
        {
          "action": {
            "scratch_pad": "To address the reported issue of adding an encoder parameter to django.utils.html.json_script, it's essential to focus on the implementation of the json_script function. The current implementation uses DjangoJSONEncoder by default, and there's a need to add flexibility to allow users to pass a custom encoder class. This will involve modifying the json_script function to accept an additional argument for the custom JSON encoder. The search results indicate that the json_script function currently does not accept a custom encoder and hardcodes the use of DjangoJSONEncoder. Additionally, the issue also mentions the lack of documentation for json_script, suggesting it could be beneficial to include it in the documentation. From the provided search results, the most relevant code spans are the definition of the json_script function and its usage of DjangoJSONEncoder. These spans should be identified for further modifications.",
            "identified_spans": [
              {
                "span_ids": [
                  "json_script"
                ],
                "file_path": "django/utils/html.py"
              }
            ]
          },
          "output": {},
          "input_tokens": 2003,
          "output_tokens": 239,
          "retry_message": null,
          "completion_cost": 0.009594
        }
      ]
    },
    {
      "name": "DecideRelevance",
      "state": {
        "model": "deepseek-coder",
        "max_tokens": 1000,
        "temperature": 1.6,
        "expand_context": true,
        "max_iterations": null,
        "max_prompt_file_tokens": 4000,
        "include_message_history": false,
        "finish_after_relevant_count": 2
      },
      "actions": [
        {
          "action": {
            "complete": true,
            "relevant": true,
            "scratch_pad": "The file context provides the `json_script` function, which currently uses `DjangoJSONEncoder` internally for JSON serialization. The function does not allow for passing a custom encoder as an argument, which aligns with the reported issue regarding the inability to customize the JSON encoding. The relevant code in the file context is the definition of the `json_script` function, but it does not include any mechanism to accept a custom JSON encoder. Therefore, all relevant aspects of the reported issue are covered in the file context, even though the functionality to accept a custom encoder is not currently implemented.",
            "search_suggestions": null
          },
          "output": {},
          "input_tokens": 1250,
          "output_tokens": 157,
          "retry_message": null,
          "completion_cost": 0.006105
        }
      ]
    },
    {
      "name": "PlanToCode",
      "state": {
        "diff": null,
        "model": "deepseek-coder",
        "message": null,
        "max_tokens": 1000,
        "temperature": 1.6,
        "max_iterations": 8,
        "finish_on_review": false,
        "verification_errors": null,
        "max_prompt_file_tokens": 4000,
        "include_message_history": true,
        "allow_hallucinated_spans": false,
        "max_tokens_in_edit_prompt": 500,
        "expand_context_with_related_spans": true
      },
      "actions": [
        {
          "action": {
            "action": "modify",
            "finish": null,
            "reject": null,
            "span_id": "json_script",
            "file_path": "django/utils/html.py",
            "scratch_pad": "To address the issue, we need to modify the `json_script` function to accept an optional `encoder` parameter. This will allow users to pass a custom JSON encoder class. This change involves adding the parameter and using it in the `json.dumps` call.",
            "instructions": "Add an optional `encoder` parameter to the `json_script` function and use it in the `json.dumps` call."
          },
          "output": {
            "span_id": "json_script",
            "end_line": 77,
            "file_path": "django/utils/html.py",
            "start_line": 62,
            "instructions": "Add an optional `encoder` parameter to the `json_script` function and use it in the `json.dumps` call."
          },
          "input_tokens": 1624,
          "output_tokens": 140,
          "retry_message": null,
          "completion_cost": 0.006972000000000001
        }
      ]
    },
    {
      "name": "EditCode",
      "state": {
        "model": "deepseek-coder",
        "verify": true,
        "span_id": "json_script",
        "end_line": 77,
        "file_path": "django/utils/html.py",
        "max_tokens": 1000,
        "start_line": 62,
        "temperature": 1.6,
        "instructions": "Add an optional `encoder` parameter to the `json_script` function and use it in the `json.dumps` call.",
        "max_iterations": 8,
        "chain_of_thought": false,
        "show_file_context": true,
        "show_initial_message": true,
        "max_prompt_file_tokens": 4000,
        "include_message_history": true
      },
      "actions": [
        {
          "action": {
            "content": "```\n<replace>\ndef json_script(value, element_id=None, encoder=None):\n    \"\"\"\n    Escape all the HTML/XML special characters with their unicode escapes, so\n    value is safe to be output anywhere except for inside a tag attribute. Wrap\n    the escaped JSON in a script tag.\n    \"\"\"\n    json_str = json.dumps(value, cls=encoder).translate(_json_script_escapes)\n    if element_id:\n        template = '<script id=\"{}\" type=\"application/json\">{}</script>'\n        args = (element_id, mark_safe(json_str))\n    else:\n        template = '<script type=\"application/json\">{}</script>'\n        args = (mark_safe(json_str),)\n    return format_html(template, *args)\n</replace>"
          },
          "output": {
            "diff": "--- django/utils/html.py\n+++ django/utils/html.py\n@@ -59,15 +59,13 @@\n }\n \n \n-def json_script(value, element_id=None):\n+def json_script(value, element_id=None, encoder=None):\n     \"\"\"\n     Escape all the HTML/XML special characters with their unicode escapes, so\n     value is safe to be output anywhere except for inside a tag attribute. Wrap\n     the escaped JSON in a script tag.\n     \"\"\"\n-    from django.core.serializers.json import DjangoJSONEncoder\n-\n-    json_str = json.dumps(value, cls=DjangoJSONEncoder).translate(_json_script_escapes)\n+    json_str = json.dumps(value, cls=encoder).translate(_json_script_escapes)\n     if element_id:\n         template = '<script id=\"{}\" type=\"application/json\">{}</script>'\n         args = (element_id, mark_safe(json_str))\n",
            "message": "Applied the change to django/utils/html.py.\n\n<scratch_pad>\n```\n</scratch_pad>",
            "verification_errors": []
          },
          "input_tokens": 1644,
          "output_tokens": 191,
          "retry_message": null,
          "completion_cost": 0.007797
        }
      ]
    },
    {
      "name": "PlanToCode",
      "state": {
        "diff": "--- django/utils/html.py\n+++ django/utils/html.py\n@@ -59,15 +59,13 @@\n }\n \n \n-def json_script(value, element_id=None):\n+def json_script(value, element_id=None, encoder=None):\n     \"\"\"\n     Escape all the HTML/XML special characters with their unicode escapes, so\n     value is safe to be output anywhere except for inside a tag attribute. Wrap\n     the escaped JSON in a script tag.\n     \"\"\"\n-    from django.core.serializers.json import DjangoJSONEncoder\n-\n-    json_str = json.dumps(value, cls=DjangoJSONEncoder).translate(_json_script_escapes)\n+    json_str = json.dumps(value, cls=encoder).translate(_json_script_escapes)\n     if element_id:\n         template = '<script id=\"{}\" type=\"application/json\">{}</script>'\n         args = (element_id, mark_safe(json_str))\n",
        "model": "deepseek-coder",
        "message": "Applied the change to django/utils/html.py.\n\n<scratch_pad>\n```\n</scratch_pad>",
        "max_tokens": 1000,
        "temperature": 1.6,
        "max_iterations": 8,
        "finish_on_review": false,
        "verification_errors": [],
        "max_prompt_file_tokens": 4000,
        "include_message_history": true,
        "allow_hallucinated_spans": false,
        "max_tokens_in_edit_prompt": 500,
        "expand_context_with_related_spans": true
      },
      "actions": [
        {
          "action": {
            "action": "modify",
            "finish": null,
            "reject": null,
            "span_id": "json_script",
            "file_path": "django/utils/html.py",
            "scratch_pad": "The first change to add the `encoder` parameter to the `json_script` function has been successfully applied as per the provided diff. The next step is to ensure that the default behavior remains consistent by setting `DjangoJSONEncoder` as the default encoder if none is provided. This can be done by updating the function to use `DjangoJSONEncoder` when `encoder` is `None`.",
            "instructions": "Update the `json_script` function to use `DjangoJSONEncoder` as the default encoder if the `encoder` parameter is `None`."
          },
          "output": {
            "span_id": "json_script",
            "end_line": 75,
            "file_path": "django/utils/html.py",
            "start_line": 62,
            "instructions": "Update the `json_script` function to use `DjangoJSONEncoder` as the default encoder if the `encoder` parameter is `None`."
          },
          "input_tokens": 2045,
          "output_tokens": 184,
          "retry_message": null,
          "completion_cost": 0.008895
        }
      ]
    },
    {
      "name": "EditCode",
      "state": {
        "model": "deepseek-coder",
        "verify": true,
        "span_id": "json_script",
        "end_line": 75,
        "file_path": "django/utils/html.py",
        "max_tokens": 1000,
        "start_line": 62,
        "temperature": 1.6,
        "instructions": "Update the `json_script` function to use `DjangoJSONEncoder` as the default encoder if the `encoder` parameter is `None`.",
        "max_iterations": 8,
        "chain_of_thought": false,
        "show_file_context": true,
        "show_initial_message": true,
        "max_prompt_file_tokens": 4000,
        "include_message_history": true
      },
      "actions": [
        {
          "action": {
            "content": "```xml\n<replace>\ndef json_script(value, element_id=None, encoder=None):\n    \"\"\"\n    Escape all the HTML/XML special characters with their unicode escapes, so\n    value is safe to be output anywhere except for inside a tag attribute. Wrap\n    the escaped JSON in a script tag.\n    \"\"\"\n    if encoder is None:\n        encoder = DjangoJSONEncoder\n    json_str = json.dumps(value, cls=encoder).translate(_json_script_escapes)\n    if element_id:\n        template = '<script id=\"{}\" type=\"application/json\">{}</script>'\n        args = (element_id, mark_safe(json_str))\n    else:\n        template = '<script type=\"application/json\">{}</script>'\n        args = (mark_safe(json_str),)\n    return format_html(template, *args)\n</replace>"
          },
          "output": {
            "diff": "--- django/utils/html.py\n+++ django/utils/html.py\n@@ -65,6 +65,8 @@\n     value is safe to be output anywhere except for inside a tag attribute. Wrap\n     the escaped JSON in a script tag.\n     \"\"\"\n+    if encoder is None:\n+        encoder = DjangoJSONEncoder\n     json_str = json.dumps(value, cls=encoder).translate(_json_script_escapes)\n     if element_id:\n         template = '<script id=\"{}\" type=\"application/json\">{}</script>'\n",
            "message": "Applied the change to django/utils/html.py.\n\n<scratch_pad>\n```xml\n</scratch_pad>",
            "verification_errors": [
              {
                "code": "E0602",
                "line": 69,
                "message": "Undefined variable 'DjangoJSONEncoder'",
                "file_path": "django/utils/html.py"
              }
            ]
          },
          "input_tokens": 1617,
          "output_tokens": 206,
          "retry_message": null,
          "completion_cost": 0.007941
        }
      ]
    },
    {
      "name": "PlanToCode",
      "state": {
        "diff": "--- django/utils/html.py\n+++ django/utils/html.py\n@@ -65,6 +65,8 @@\n     value is safe to be output anywhere except for inside a tag attribute. Wrap\n     the escaped JSON in a script tag.\n     \"\"\"\n+    if encoder is None:\n+        encoder = DjangoJSONEncoder\n     json_str = json.dumps(value, cls=encoder).translate(_json_script_escapes)\n     if element_id:\n         template = '<script id=\"{}\" type=\"application/json\">{}</script>'\n",
        "model": "deepseek-coder",
        "message": "Applied the change to django/utils/html.py.\n\n<scratch_pad>\n```xml\n</scratch_pad>",
        "max_tokens": 1000,
        "temperature": 1.6,
        "max_iterations": 8,
        "finish_on_review": false,
        "verification_errors": [
          {
            "code": "E0602",
            "line": 69,
            "message": "Undefined variable 'DjangoJSONEncoder'",
            "file_path": "django/utils/html.py"
          }
        ],
        "max_prompt_file_tokens": 4000,
        "include_message_history": true,
        "allow_hallucinated_spans": false,
        "max_tokens_in_edit_prompt": 500,
        "expand_context_with_related_spans": true
      },
      "actions": [
        {
          "action": {
            "action": "modify",
            "finish": null,
            "reject": null,
            "span_id": "impl:1",
            "file_path": "django/utils/html.py",
            "scratch_pad": "The lint error indicates that the variable `DjangoJSONEncoder` is undefined. This is likely because the import statement for `DjangoJSONEncoder` from `django.core.serializers.json` is missing. To resolve this, we need to add the import statement at the beginning of the file.",
            "instructions": "Add the import statement for `DjangoJSONEncoder` from `django.core.serializers.json` at the beginning of the file."
          },
          "output": null,
          "input_tokens": 2464,
          "output_tokens": 162,
          "retry_message": "Span not found: impl:1. Available spans: json_script, format_html, impl:4, format_html_join, conditional_escape",
          "completion_cost": 0.009822000000000001
        },
        {
          "action": {
            "action": "modify",
            "finish": null,
            "reject": null,
            "span_id": "impl:4",
            "file_path": "django/utils/html.py",
            "scratch_pad": "Since the span 'impl:1' does not exist, it seems there is no specific span identified for the import section. Therefore, the import statement should be added at the beginning of the file, possibly before the `_json_script_escapes` definition or at the start of the file if there are no other imports yet. Let's check the current context to see where the import should be placed.",
            "instructions": "Add the import statement for `DjangoJSONEncoder` from `django.core.serializers.json` at the beginning of the file, possibly after any existing imports or at the start if no other imports are present."
          },
          "output": {
            "span_id": "impl:4",
            "end_line": 59,
            "file_path": "django/utils/html.py",
            "start_line": 55,
            "instructions": "Add the import statement for `DjangoJSONEncoder` from `django.core.serializers.json` at the beginning of the file, possibly after any existing imports or at the start if no other imports are present."
          },
          "input_tokens": 2665,
          "output_tokens": 200,
          "retry_message": null,
          "completion_cost": 0.010995000000000001
        }
      ]
    },
    {
      "name": "EditCode",
      "state": {
        "model": "deepseek-coder",
        "verify": true,
        "span_id": "impl:4",
        "end_line": 59,
        "file_path": "django/utils/html.py",
        "max_tokens": 1000,
        "start_line": 55,
        "temperature": 1.6,
        "instructions": "Add the import statement for `DjangoJSONEncoder` from `django.core.serializers.json` at the beginning of the file, possibly after any existing imports or at the start if no other imports are present.",
        "max_iterations": 8,
        "chain_of_thought": false,
        "show_file_context": true,
        "show_initial_message": true,
        "max_prompt_file_tokens": 4000,
        "include_message_history": true
      },
      "actions": [
        {
          "action": {
            "content": "```html\n<replace>\n_json_script_escapes = {\n    ord(\">\"): \"\\\\u003E\",\n    ord(\"<\"): \"\\\\u003C\",\n    ord(\"&\"): \"\\\\u0026\",\n}\nfrom django.core.serializers.json import DjangoJSONEncoder\n</replace>"
          },
          "output": {
            "diff": "--- django/utils/html.py\n+++ django/utils/html.py\n@@ -57,6 +57,7 @@\n     ord(\"<\"): \"\\\\u003C\",\n     ord(\"&\"): \"\\\\u0026\",\n }\n+from django.core.serializers.json import DjangoJSONEncoder\n \n \n def json_script(value, element_id=None, encoder=None):\n",
            "message": "Applied the change to django/utils/html.py.\n\n<scratch_pad>\n```html\n</scratch_pad>",
            "verification_errors": []
          },
          "input_tokens": 1514,
          "output_tokens": 74,
          "retry_message": null,
          "completion_cost": 0.005652
        }
      ]
    },
    {
      "name": "PlanToCode",
      "state": {
        "diff": "--- django/utils/html.py\n+++ django/utils/html.py\n@@ -57,6 +57,7 @@\n     ord(\"<\"): \"\\\\u003C\",\n     ord(\"&\"): \"\\\\u0026\",\n }\n+from django.core.serializers.json import DjangoJSONEncoder\n \n \n def json_script(value, element_id=None, encoder=None):\n",
        "model": "deepseek-coder",
        "message": "Applied the change to django/utils/html.py.\n\n<scratch_pad>\n```html\n</scratch_pad>",
        "max_tokens": 1000,
        "temperature": 1.6,
        "max_iterations": 8,
        "finish_on_review": false,
        "verification_errors": [],
        "max_prompt_file_tokens": 4000,
        "include_message_history": true,
        "allow_hallucinated_spans": false,
        "max_tokens_in_edit_prompt": 500,
        "expand_context_with_related_spans": true
      },
      "actions": [
        {
          "action": {
            "action": "finish",
            "finish": "The fix for the issue has been properly implemented. The `json_script` function now accepts a custom encoder parameter, and the `DjangoJSONEncoder` is used as the default if none is provided. The necessary import statement has also been correctly added to the file.",
            "reject": null,
            "span_id": null,
            "file_path": null,
            "scratch_pad": "The import statement for `DjangoJSONEncoder` has been successfully added at the beginning of the file, resolving the lint error. With the required changes made to the `json_script` function and ensuring the import statement is correctly placed, the issue of adding a custom encoder parameter has been resolved.",
            "instructions": null
          },
          "output": {
            "message": "The fix for the issue has been properly implemented. The `json_script` function now accepts a custom encoder parameter, and the `DjangoJSONEncoder` is used as the default if none is provided. The necessary import statement has also been correctly added to the file."
          },
          "input_tokens": 2845,
          "output_tokens": 177,
          "retry_message": null,
          "completion_cost": 0.011190000000000002
        }
      ]
    },
    {
      "name": "Finished",
      "state": {
        "model": "gpt-4o",
        "output": {
          "model": "deepseek-coder",
          "temperature": 1.6
        },
        "message": "The fix for the issue has been properly implemented. The `json_script` function now accepts a custom encoder parameter, and the `DjangoJSONEncoder` is used as the default if none is provided. The necessary import statement has also been correctly added to the file.",
        "max_tokens": 1000,
        "temperature": 0.0,
        "max_iterations": null,
        "include_message_history": false
      },
      "actions": []
    }
  ],
  "initial_message": "Add an encoder parameter to django.utils.html.json_script().\nDescription\n\t\nI have a use case where I want to customize the JSON encoding of some values to output to the template layer. It looks like django.utils.html.json_script is a good utility for that, however the JSON encoder is hardcoded to DjangoJSONEncoder. I think it would be nice to be able to pass a custom encoder class.\nBy the way, django.utils.html.json_script is not documented (only its template filter counterpart is), would it be a good thing to add to the docs?\n"
}