2024-07-03 17:23:49,276 - INFO - Environment image sweb.env.x86_64.a18371b03f944585b4f08c:latest found for django__django-12286
Building instance image sweb.eval.x86_64.django__django-12286:latest for django__django-12286
2024-07-03 17:23:49,312 - INFO - Image sweb.eval.x86_64.django__django-12286:latest already exists, skipping build.
2024-07-03 17:23:49,314 - INFO - Creating container for django__django-12286...
2024-07-03 17:23:51,246 - INFO - Container for django__django-12286 created: 21d384426cd945084252de946d2fb366290ec90e2ec2a4b441c13375e797d5db
2024-07-03 17:23:59,979 - INFO - Container for django__django-12286 started: 21d384426cd945084252de946d2fb366290ec90e2ec2a4b441c13375e797d5db
2024-07-03 17:23:59,979 - INFO - Intermediate patch for django__django-12286 written to /scratch/rse-swe-bench/unit_test_logs/evaluation_182667/model_name_managed_by_server/django__django-12286/patch.diff, now applying to container...
2024-07-03 17:24:01,528 - INFO - >>>>> Applied Patch:
Checking patch django/core/checks/translation.py...
Applied patch django/core/checks/translation.py cleanly.

2024-07-03 17:24:03,021 - INFO - Git diff before:
diff --git a/django/core/checks/translation.py b/django/core/checks/translation.py
index 138ed07ff8..ee893f79e3 100644
--- a/django/core/checks/translation.py
+++ b/django/core/checks/translation.py
@@ -56,6 +56,9 @@ def check_setting_languages_bidi(app_configs, **kwargs):
 def check_language_settings_consistent(app_configs, **kwargs):
     """Error if language settings are not consistent with each other."""
     available_tags = {i for i, _ in settings.LANGUAGES} | {'en-us'}
-    if settings.LANGUAGE_CODE not in available_tags:
-        return [E004]
-    return []
+    lang_code = settings.LANGUAGE_CODE
+    while lang_code:
+        if lang_code in available_tags:
+            return []
+        lang_code, _, _ = lang_code.partition('-')
+    return [E004]
2024-07-03 17:24:03,022 - INFO - Eval script for django__django-12286 written to /scratch/rse-swe-bench/unit_test_logs/evaluation_182667/model_name_managed_by_server/django__django-12286/patch.diff, now applying to container...
2024-07-03 17:54:03,543 - INFO - Attempting to stop container sweb.eval.django__django-12286.evaluation_182667...
2024-07-03 17:54:06,232 - INFO - Attempting to remove container sweb.eval.django__django-12286.evaluation_182667...
2024-07-03 17:54:06,702 - INFO - Container sweb.eval.django__django-12286.evaluation_182667 removed.
